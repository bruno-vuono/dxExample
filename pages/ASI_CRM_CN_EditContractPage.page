<apex:page standardController="ASI_TH_CRM_Contract__c" extensions="ASI_CRM_CN_Contract_Controller">
<apex:stylesheet value="{!URLFOR($Resource.ASI_CRM_CN_Jquery, 'jquery-ui1.10.4.css')}"/>
<apex:includeScript value="{!URLFOR($Resource.ASI_CRM_CN_Jquery, 'jquery1.10.2.min.js')}"/>
<apex:includeScript value="{!URLFOR($Resource.ASI_CRM_CN_Jquery, 'jquery-ui1.10.4.min.js')}"/>
<style type="text/css">
    .ui-autocomplete {
    	max-height: 300px;
    	overflow-y: auto;
    	/* prevent horizontal scrollbar */
    	overflow-x: hidden;
    	/* add padding to account for vertical scrollbar */
    	padding-right: 20px;
    	}
    	/* IE 6 doesn't support max-height
    	* we use height instead, but this forces the menu to always be this tall
    	*/
    	* html .ui-autocomplete {
    	height: 300px;
    }    
</style>
<script type='text/javascript'>
    var cityIdMap = [];
    var cityNameMap = [];
    var cityProvinceMap = [];
    var cityAllMap = [];
    var nationGroupMap = [];
    
    $(function(){
        
        var s = '{!nationGroup}';
        s = s.replace(/[\[\]]/g, '');
        s = s.split(',');
        $('#nationalHelpIcon').hover(function(){
            $('div#nationalHelptext').css('display', 'block');
        }, function(){
        	$('div#nationalHelptext').css('display', 'none');
        });
        
        for(var i = 0 ; i < s.length ; i++){
            
            var key = s[i].replace(' ', '').split('###')[0];
            var val = s[i].split('###')[1];
            nationGroupMap[key] = val;
        }
        getCity();
        //findCity();
    });
    
    function getCity(){
        ASI_CRM_CN_Contract_Controller.findCitySObjects('ASI_CRM_City__c', function(result, event){
            if(event.type == 'exception') {
                alert(event.message);
            } else {
                for(i = 0 ; i < result.length ; i++){
                    var a = result[i].split('$$$');
                    cityAllMap[i] = a[0];
                    if(cityProvinceMap[a[2]] != undefined)
                    {
                        var b = [];
                        b = cityProvinceMap[a[2]];
                        b.push(a[0]);
                        cityProvinceMap[a[2]] = b;
                    }
                    else
                    {
                        var temp = [];
                        temp.push(a[0]);
                        cityProvinceMap[a[2]] = temp;
                    }
                    cityIdMap[a[0]] = a[1];
                    cityNameMap[a[1]] = a[0];
                }
                findCity();
            }
        }) 
    }
    
    function findCity(){
        if(!$('.poProvince').val() || cityProvinceMap[$('.poProvince').val()].indexOf($('.poCity').val()) < 0){
            $('.poCity').val(null);
            $('.poCityId').val(null);
        }
        
        $('.poCity').autocomplete({
            source : cityProvinceMap[$('.poProvince').val()],
            minLength : 0,
            scroll : true,
            select : function( event, ui )
            {
                $(this).parent().parent().parent().find('.poCityId').val(cityIdMap[ui.item.value]);
            },
            focus : function(event, ui){
                $(this).val(ui.item.label);
                event.preventDefault();
            }
        }).focus(function () {
            $(this).autocomplete("search", "");
        });
        var tmp = $('.poCity').parent().parent().parent().find('.poCityId').val();
        var val = $('.poCity').val();
        if(tmp){
            if(cityNameMap[tmp])
                $('.poCity').val(cityNameMap[tmp]);
        }else if(!tmp && val){
            if(cityIdMap[val])
                $('.poCity').parent().parent().parent().find('.poCityId').val(cityIdMap[val]);
        }
    }
    
    //20161018 Ben @ Elufa
    function stopRKey(evt) {
        
        var evt = (evt) ? evt : ((event) ? event : null);
        var node = (evt.target) ? evt.target : ((evt.srcElement) ? evt.srcElement : null);
        
        if ((evt.keyCode == 13) && (node.type=="text")) {return false;}
    }
    //20170203 Elufa
    function nationGroupChange(){
         /* remove by laputa 
        var nationaGroupName = $('select.nationalGroup').val();
        
        if('{!ContractSelected.ASI_CRM_CN_PO_Version__c}' == '0.0' && {!!isCreate}){
            
            return true;//confirm('If you want to change V0.0 National Group value, please contact HQ BA or IT\n如需更改v0.0合同的全国集团, 请联络HQ BA或IT');
            
        }else if(nationaGroupName != '{!ContractSelected.ASI_CRM_CN_Last_PO_version__r.ASI_CRM_NationalGroup__c}' && {!!isCreate}){
            
            return confirm('You have changed national group from [' + ('{!ContractSelected.ASI_CRM_CN_Last_PO_version__r.ASI_CRM_National_Group__r.Name}' ? '{!ContractSelected.ASI_CRM_CN_Last_PO_version__r.ASI_CRM_National_Group__r.Name}' : 'none') + '] to [' + (nationGroupMap[nationaGroupName] ? nationGroupMap[nationaGroupName] : 'none') + '].\n您已将所属全国集团由[' + ('{!ContractSelected.ASI_CRM_CN_Last_PO_version__r.ASI_CRM_National_Group__r.Name}' ? '{!ContractSelected.ASI_CRM_CN_Last_PO_version__r.ASI_CRM_National_Group__r.Name}' : '无') + ']修改成[' + (nationGroupMap[nationaGroupName] ? nationGroupMap[nationaGroupName] : '无') + ']。请确认是否需要保存该修改。');

        }else{
        	return true;
        }
        */
    }
    
    document.onkeypress = stopRKey;
 
</script>
<apex:form >
<apex:pageMessages id="headerPageMsg" /><!--20170203 Elufa added id="headerPageMsg"-->
<apex:outputPanel id="is_EN" rendered="{!!showCN}">
<apex:pageblock title="Contract" >
    
    <apex:pageblockButtons >
        <apex:commandButton value="Save" action="{!UpdateContractRecord}"/><!-- 20170524 removed onclick="return nationGroupChange()" -->
        <apex:commandButton value="Cancel" action="{!cancel}"/><!--{!GoURL}"/-->
     </apex:pageblockButtons>
    
    <apex:actionstatus id="ActionStatus">
        <apex:facet name="start">
            <div class="waitingSearchDiv" id="el_loading" style="background-color: #fbfbfb;
                   height: 100%;opacity:0.65;width:100%;"> 
                <div class="waitingHolder" style="top: 74.2px; width: 91px;">
                    <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." />
                    <span class="waitingDescription">Please Wait...</span>
                </div>
            </div>
        </apex:facet>
    </apex:actionstatus>
   
    <apex:pageblocksection title="Header Information" rendered="{!!isCreate}">
        <apex:pageblockSectionItem >
            <apex:outputText value="Contract No."/>
            <apex:outputField value="{!ContractSelected.Name}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO Start Date"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_Start_Date__c}" required="true"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO No."/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_PO_No__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO End Date"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_End_Date__c}" required="true"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO Version"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_PO_Version__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="Bottle Collection Rate"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Bottle_Collection_Rate__c}" required="true" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Bottle_Collection_Rate__c}" rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PP No."/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_PP_No__c}" />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
		
            <apex:outputText value="Outlet/WS"/>
            <apex:outputPanel >
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" rendered="{!!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" rendered="{!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="Status"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Status__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="{!if(ContractSelected.ASI_CRM_New_FY_PO__c, 'PO Type', 'Promotion Type')}"/><!--20160627 Ben @ Elufa-->
            <apex:outputPanel >
            <apex:outputField value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}"  rendered="{!!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}" rendered="{!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputPanel ><apex:outputText value="Source of Contract"/><img src="/s.gif" alt="Help" class="helpIcon" title="This is Help Message"/></apex:outputPanel>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" required="true" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}">
                   <apex:actionSupport event="onchange" rerender="source, source1" />
            </apex:inputField>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>  
        <apex:pageblockSectionItem >
            <apex:outputText value="Vol Budget/LE (9L)"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Vol_Budget_LE__c}" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Vol_Budget_LE__c}" rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        
        
        
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="Source (Others)" id="source" />
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_Others__c}" id="source1" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Source_Others__c}"  rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c!='Others'}">
            <apex:outputText value="A&P Budget/LE (RMB)"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}"  rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>        
        <apex:pageblockSectionItem >
            <apex:outputText value="Description"/>
            <apex:inputField style="height:15em;width:30em" value="{!ContractSelected.ASI_CRM_CN_Description__c}" />
        </apex:pageblockSectionItem>
     
        
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="A&P Budget/LE (RMB)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" />
        </apex:pageblockSectionItem>
        
        <!------------------Laputa comment  
        
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_PO_Version__c == '0.0'}">
            <apex:outputText value="National Group">
                <div id="nationalHelptext" class="helpText" style="display: none; opacity: 0.99;position:absolute;left:25%;top:5%">If you want to change V0.0 National Group value, please contact HQ BA or IT<br/>如需更改v0.0合同的全国集团, 请联络HQ BA或IT</div>
                <img src="/s.gif" alt="Help" id="nationalHelpIcon" class="helpIcon" title="" style="position:relative; left :100px;" />
            </apex:outputText>
            <apex:outputField value="{!ContractSelected.ASI_CRM_NationalGroup__c}"/>
        </apex:pageblockSectionItem>
        --------------->
        <!-- 20170523 commented-->
        <!--<apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_PO_Version__c != '0.0'}">
            <apex:outputText value="National Group" />
            <apex:selectList styleClass="nationalGroup" value="{!ContractSelected.ASI_CRM_National_Group__c}" multiselect="false" size="1" >
                <apex:selectOptions value="{!AllNationalGroup}"/>
            </apex:selectList>
        </apex:pageblockSectionItem>-->
        <!--20170201 End-->
        
        <!--20160627 Ben @ Elufa-->
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO Channel" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_Channel__c}"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO City" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_City__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO Province" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_Province__c}" />
        </apex:pageblockSectionItem>
		<!--20160627 End-->        
        
         
        <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="Investment Type"   id="PromotionTypeInput6"  />
            <apex:inputField style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="{!ContractSelected.ASI_CRM_Investment_Type__c}"  id="PromotionTypeInput7"    />
        </apex:pageblockSectionItem>

        
		
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c!='Others'}">
        </apex:pageblockSectionItem>
        
        
    </apex:pageblocksection>
    
    
    <apex:pageblocksection title="Header Information" rendered="{!isCreate}" id="header" >
        <apex:pageblockSectionItem >
            <apex:outputText value="Outlet/WS"/>
            <apex:actionRegion >
                <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" required="true" >
                    <apex:actionSupport oncomplete="findCity()" event="onchange" action="{!setCustomerChannel}" rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" status="ActionStatus" reRender="Information1, Information11, Information22, Information2, Information33, Information3, Information3a, header" /><!--20160606 Ben @ Elufa-->
                </apex:inputField>
            </apex:actionRegion>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO Start Date"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_Start_Date__c}" required="true" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            
            <apex:outputText value="{!if(ContractSelected.ASI_CRM_New_FY_PO__c, 'PO Type', 'Promotion Type')}"/>
             <apex:actionRegion >
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock"/>
                    <apex:selectList value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}" multiselect="false" size="1" required="true">
                        <apex:selectoptions value="{!poTypeOption}"/>
                        <apex:actionSupport event="onchange" action="{!SetSpecialPromotionType_BCRate}" status="ActionStatus" reRender="BCRate, MBCRateLabel, MBCRate,PromotionType1, PromotionType2, PromotionType3, PromotionType4 "  />
                    </apex:selectList>
                </apex:outputPanel>
            </apex:actionRegion>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO End Date"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_End_Date__c}" required="true" />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputPanel ><apex:outputText value="Source of Contract"/><img src="/s.gif" alt="Help" class="helpIcon" title="This is Help Message"/></apex:outputPanel>            
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" required="true">
                <apex:actionSupport event="onchange" rerender="source, source1" />
            </apex:inputField>
        </apex:pageblockSectionItem>
        
     
        <apex:pageblockSectionItem >
            <apex:outputText value="Bottle Collection Rate"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Bottle_Collection_Rate__c}" id="BCRate" />
        </apex:pageblockSectionItem>
    
        
        <apex:pageblockSectionItem >
            <apex:outputText value="Vol Budget/LE (9L)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Vol_Budget_LE__c}" />
        </apex:pageblockSectionItem>   
        															 
    
        <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','','display:none;')} "   value="Martell Bottle Collection Rate" id="MBCRateLabel"  />
            <apex:inputField style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','','display:none;')} "   value="{!ContractSelected.ASI_CRM_Martell_BC_Rate__c}" id="MBCRate" />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c!='Others'}">
            <apex:outputText value="A&P Budget/LE (RMB)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}"/>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="A&P Budget/LE (RMB)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" />
        </apex:pageblockSectionItem>

        <apex:pageblockSectionItem >
            <apex:outputText value="Status"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Status__c}" />
        </apex:pageblockSectionItem> 
        <apex:pageblockSectionItem >
            <apex:outputText value="Description"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Description__c}" style="height:15em;width:30em"   />
        </apex:pageblockSectionItem>
        
      
        
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:inputText style="display:none" styleClass="poCityId" value="{!ContractSelected.ASI_CRM_PO_City__c}" id="Information3a"/>
        </apex:pageblockSectionItem>
        
        							
        <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="Investment Type"   id="PromotionType1"  />
            <apex:inputField style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="{!ContractSelected.ASI_CRM_Investment_Type__c}"  id="PromotionType2"    />
																								 
							   
        </apex:pageblockSectionItem>
        
        <!--20170201 Elufa
        <apex:pageblockSectionItem >
            <apex:outputText value="National Group">
                <div id="nationalHelptext" class="helpText" style="display: none; opacity: 0.99;position:absolute;left:25%;top:5%">If you want to change V0.0 National Group value, please contact HQ BA or IT<br/>如需更改v0.0合同的全国集团, 请联络HQ BA或IT</div>
                <img src="/s.gif" alt="Help" id="nationalHelpIcon" class="helpIcon" title="" style="position:relative; left :90px;" />
            </apex:outputText>
            <apex:outputField value="{!ContractSelected.ASI_CRM_NationalGroup__c}" />
        </apex:pageblockSectionItem>
       -20170201 End-->
        
													
        <apex:pageblockSectionItem rendered="{!ShowNationalContractOption}">
            <apex:outputText value="{!$ObjectType.ASI_TH_CRM_Contract__c.Fields.ASI_CRM_CN_Group_Contract__c.Label}"/>
            <apex:selectList styleClass="nationalGroup" value="{!ContractSelected.ASI_CRM_CN_Group_Contract__c}" multiselect="false" size="1" >
                <apex:selectOptions value="{!GroupContractOptionType}"/>
            </apex:selectList>
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem rendered="{!ShowNationalContract}">
            <apex:outputText value="{!$ObjectType.ASI_TH_CRM_Contract__c.Fields.ASI_CRM_CN_Group_Contract__c.Label}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Group_Contract__c}" />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','','display:none;')} "  value="Investment Type" id="PromotionType3"   />
            <apex:outputField value="{!ContractSelected.ASI_CRM_Investment_Type__c}"  id="PromotionType4"  />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="PO Channel" id="Information22" />
            <apex:inputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Channel__c}" required="{!needChannelnProvince}" id="Information2" />
        </apex:pageblockSectionItem>
		
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="PO Channel" id="Information22" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Channel__c}" id="Information2" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="PO City" id="Information33" />
            <apex:inputText styleClass="poCity" rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_City__r.Name}" id="Information3" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="PO City" id="Information33" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_City__c}" id="Information3" />
        </apex:pageblockSectionItem>
		
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="PO Province" id="Information11" />
            <apex:inputField styleClass="poProvince" onchange="findCity()" rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Province__c}" required="{!needChannelnProvince}" id="Information1" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="PO Province" id="Information11" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Province__c}" id="Information1" />
        </apex:pageblockSectionItem>
       
		
		
    </apex:pageblocksection>

</apex:pageblock>
</apex:outputPanel>
<!--------------------------------------------------------------------------------------------------------CN------------------------------------------------------------------>
<apex:outputPanel id="is_CN" rendered="{!showCN}">
<apex:pageblock title="销售合同" >
    <apex:pageblockButtons >
        <apex:commandButton value="保存" onclick="return nationGroupChange()" action="{!UpdateContractRecord}"/>
        <apex:commandButton value="取消" action="{!cancel}"/><!--{!GoURL}"/-->
     </apex:pageblockButtons>
    
    <apex:actionstatus id="ActionStatus">
        <apex:facet name="start">
            <div class="waitingSearchDiv" id="el_loading" style="background-color: #fbfbfb;
                   height: 100%;opacity:0.65;width:100%;"> 
                <div class="waitingHolder" style="top: 74.2px; width: 91px;">
                    <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." />
                    <span class="waitingDescription">Please Wait...</span>
                </div>
            </div>
        </apex:facet>
    </apex:actionstatus>
   
    <apex:pageblocksection title="头信息" rendered="{!!isCreate}">
        <apex:pageblockSectionItem >
            <apex:outputText value="合同编号"/>
            <apex:outputField value="{!ContractSelected.Name}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO开始日期"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_Start_Date__c}" required="true"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO号码"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_PO_No__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO结束日期"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_End_Date__c}" required="true"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PO版本"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_PO_Version__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="空瓶回收率"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Bottle_Collection_Rate__c}" required="true" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Bottle_Collection_Rate__c}" rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="PP No."/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_PP_No__c}" />
        </apex:pageblockSectionItem>
		
						
        <apex:pageblockSectionItem >
            <apex:outputText value="店家/批发商"/>
            <apex:outputPanel >
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" rendered="{!!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" rendered="{!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="状态"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Status__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText value="{!if(ContractSelected.ASI_CRM_New_FY_PO__c, 'PO 类别', '促销类别')}"/><!--20160627 Ben @ Elufa-->
            <apex:outputPanel >
                
                <!--20160627 Ben @ Elufa-->
                <apex:outputText value="{!poTypeMap[ContractSelected.ASI_TH_CRM_Promotion_Type__c]}"  rendered="{!!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
                <apex:outputText value="{!poTypeMap[ContractSelected.ASI_TH_CRM_Promotion_Type__c]}" rendered="{!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
                <!--<apex:outputField value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}"  rendered="{!!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>
				<apex:outputField value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}" rendered="{!ContractSelected.ASI_CRM_CN_PO_Modification__c}"/>-->
                <!--20160627 Ben @ Elufa-->
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputPanel ><apex:outputText value="合同来源"/><img src="/s.gif" alt="Help" class="helpIcon" title="This is Help Message"/></apex:outputPanel>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" required="true" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}">
                   <apex:actionSupport event="onchange" rerender="source, source1" />
            </apex:inputField>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>  
        <apex:pageblockSectionItem >
            <apex:outputText value="Budget/LE 销量 (9L)"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Vol_Budget_LE__c}" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Vol_Budget_LE__c}" rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="Source (Others)" id="source" />
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_Others__c}" id="source1" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Source_Others__c}"  rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c!='Others'}">
            <apex:outputText value="Budget/LE 销售费用 (RMB)"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}"  rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>        
        <apex:pageblockSectionItem >
            <apex:outputText value="附注"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Description__c}" style="height:15em;width:30em" />
        </apex:pageblockSectionItem>
        <!--<apex:pageblockSectionItem rendered="{!if($UserRole.Name = 'CN BA (C)' || $UserRole.Name = 'CN BA (E)' || $UserRole.Name = 'CN BA Director' || $UserRole.Name = 'CN BA - Applier' || $UserRole.Name = 'CN BA(N)'|| $UserRole.Name = 'CN BA(NW)' || $UserRole.Name = 'CN BA(GS_GDE)' || $UserRole.Name = 'CN BA(GS_GDW)' || $UserRole.Name = 'CN BA(GS_GGZ)' || $UserRole.Name = 'CN BA(GS_SW)',true,false)}">
            <apex:outputText value="Contract Upload"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Contract_Upload__c}" />
        </apex:pageblockSectionItem>-->
		<!--
        <apex:pageblockSectionItem >
            <apex:outputText value="未提供Budget/LE原因"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Reason_without_Budget__c}" rendered="{!!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Reason_without_Budget__c}"  rendered="{!ASI_TH_CRM_Contract__c.ASI_CRM_CN_PO_Modification__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>     
        
        <apex:pageblockSectionItem >
        </apex:pageblockSectionItem>  
		-->
        
        <!--20170309 Elufa Commented
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_PO_Version__c != '0.0'}">
            <apex:outputText value="全国集团合同"/>
            <apex:outputPanel >
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_National_Group_Contract__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>  
        
        <!--20170201 Elufa
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_PO_Version__c == '0.0'}">
            <apex:outputText value="全国集团合同"/>
            <apex:outputPanel >
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_National_Group_Contract__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>  
        -->
        
        <apex:pageblockSectionItem >
            <apex:outputText value="全国集团">
                <div id="nationalHelptext" class="helpText" style="display: none; opacity: 0.99;position:absolute;left:25%;top:5%">If you want to change National Group value, please contact HQ BA or IT<br/>如需更改v0.0合同的全国集团, 请联络HQ BA或IT</div>
                <img src="/s.gif" alt="Help" id="nationalHelpIcon" class="helpIcon" title="" style="position:relative; left :90px;" />
            </apex:outputText>
            <apex:outputField value="{!ContractSelected.ASI_CRM_NationalGroup__c}" />
        </apex:pageblockSectionItem>
        
        <!--20170523 commented-->
        <!--<apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_PO_Version__c != '0.0'}">
            <apex:outputText value="全国集团"/>
            <apex:selectList styleClass="nationalGroup" value="{!ContractSelected.ASI_CRM_National_Group__c}" multiselect="false" size="1" >
                <apex:selectOptions value="{!AllNationalGroup}"/>
            </apex:selectList>
        </apex:pageblockSectionItem>
        <!--20170201 End-->
        
	   
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="A&P Budget/LE (RMB)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" />
        </apex:pageblockSectionItem>
        
        <!--20160627 Ben @ Elufa-->
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO渠道" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_Channel__c}"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO城市" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_City__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO省份" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_Province__c}" />
        </apex:pageblockSectionItem>
		<!--20160627 End-->  
        
									
							 
        <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="投资类型"   id="PromotionTypeInput11"  />
            <apex:inputField style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="{!ContractSelected.ASI_CRM_Investment_Type__c}"  id="PromotionTypeInput9"    />
        </apex:pageblockSectionItem>
        			
		
		
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c!='Others'}">
        </apex:pageblockSectionItem>
        
        
    </apex:pageblocksection>
    
    
    <apex:pageblocksection title="头信息" rendered="{!isCreate}" id="header_CN" >
        <!--<apex:pageblockSectionItem >
            <apex:outputText value="店家/批发商"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" required="true" />
        </apex:pageblockSectionItem>-->
        
        <apex:pageblockSectionItem >
            <apex:outputText value="店家/批发商"/>
            <apex:actionRegion >
                <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Outlet_WS__c}" required="true" >
                    <apex:actionSupport oncomplete="findCity()" event="onchange" action="{!setCustomerChannel}" rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" status="ActionStatus" reRender="Information1_CN, Information11_CN, Information22_CN, Information2_CN, Information33_CN, Information3_CN, Information3a_CN, header_CN" /><!--20160606 Ben @ Elufa-->
                </apex:inputField>
            </apex:actionRegion>
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputText value="PO开始日期"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_Start_Date__c}" required="true" />
        </apex:pageblockSectionItem>
        <!--<apex:pageblockSectionItem >
            <apex:outputText value="促销类别"/>
            <apex:actionRegion >
            <apex:inputField value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}" required="true" >
                <apex:actionSupport event="onchange" action="{!SetSpecialPromotionType_BCRate}" status="ActionStatus" reRender="BCRate_CN"/>
            </apex:inputField>
            </apex:actionRegion>
        </apex:pageblockSectionItem>-->
        
         <apex:pageblockSectionItem >
            <apex:outputText value="{!if(ContractSelected.ASI_CRM_New_FY_PO__c, 'PO 类别', '促销类别')}"/>
            <apex:actionRegion >
                <apex:outputPanel styleClass="requiredInput" layout="block">
                <apex:outputPanel styleClass="requiredBlock"/>
                    <apex:selectList value="{!ContractSelected.ASI_TH_CRM_Promotion_Type__c}" multiselect="false" size="1" required="true">
                        <apex:selectoptions value="{!poTypeOption}"/>
                        <apex:actionSupport event="onchange" action="{!SetSpecialPromotionType_BCRate}" status="ActionStatus" reRender="BCRate_CN,MartellBCRate_CN,MartellBCRate_Label_CN,PromotionType5,PromotionType6,PromotionType7,PromotionType8"/>
                    </apex:selectList>
                </apex:outputPanel>
            </apex:actionRegion>
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputText value="PO结束日期"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_PO_End_Date__c}" required="true" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputPanel ><apex:outputText value="合同来源"/><img src="/s.gif" alt="Help" class="helpIcon" title="This is Help Message"/></apex:outputPanel>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" required="true">
                <apex:actionSupport event="onchange" rerender="source, source1" />
                </apex:inputField>
        </apex:pageblockSectionItem>
              
        <apex:pageblockSectionItem >
            <apex:outputText value="空瓶回收率"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Bottle_Collection_Rate__c}"  id="BCRate_CN" />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputText value="Budget/LE 销量 (9L)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Vol_Budget_LE__c}" />
        </apex:pageblockSectionItem>  
        
		     <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','','display:none;')} "  value="马爹利空瓶回收率"  id="MartellBCRate_Label_CN"  />
            <apex:inputField style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','','display:none;')} "  value="{!ContractSelected.ASI_CRM_Martell_BC_Rate__c}" id="MartellBCRate_CN" />
        </apex:pageblockSectionItem>
        
      <!--    <apex:pageblockSectionItem >
															   
																											
									
		

		
										  
            <apex:outputText value="交易币种"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Currency__c}" required="true" />
        </apex:pageblockSectionItem>
        
      <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="Source (Others)" id="source" />
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_Others__c}" id="source1" />
        </apex:pageblockSectionItem> -->
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c!='Others'}">
            <apex:outputText value="Budget/LE 销售费用 (RMB)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}"/>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c=='Others'}">
            <apex:outputText value="Budget/LE 销售费用 (RMB)"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Budget_LE__c}" />
        </apex:pageblockSectionItem>
        
		<!--
        <apex:pageblockSectionItem >
            <apex:outputText value="未提供Budget/LE原因"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Reason_without_Budget__c}" />
        </apex:pageblockSectionItem>    
		-->		
        
    <!--    <apex:pageblockSectionItem />
        <apex:pageblockSectionItem >
            <apex:outputPanel ><apex:outputText value="合同来源"/><img src="/s.gif" alt="Help" class="helpIcon" title="This is Help Message"/></apex:outputPanel>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Source_of_Contract__c}" required="true">
                <apex:actionSupport event="onchange" rerender="source, source1" />
                </apex:inputField>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem /> -->
        
        <apex:pageblockSectionItem >
            <apex:outputText value="附注"/>
            <apex:inputField value="{!ContractSelected.ASI_CRM_CN_Description__c}"  style="height:15em;width:30em"  />
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem >
            <apex:outputText value="状态"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Status__c}"  />
        </apex:pageblockSectionItem> 
		 
										
         <apex:pageblockSectionItem rendered="{!ShowNationalContractOption}">
            <apex:outputText value="{!$ObjectType.ASI_TH_CRM_Contract__c.Fields.ASI_CRM_CN_Group_Contract__c.Label}"/>
            <apex:selectList styleClass="nationalGroup" value="{!ContractSelected.ASI_CRM_CN_Group_Contract__c}" multiselect="false" size="1" >
                <apex:selectOptions value="{!GroupContractOptionType}"/>
            </apex:selectList>
        </apex:pageblockSectionItem>
        
        <apex:pageblockSectionItem rendered="{!ShowNationalContract}">
            <apex:outputText value="{!$ObjectType.ASI_TH_CRM_Contract__c.Fields.ASI_CRM_CN_Group_Contract__c.Label}"/>
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_Group_Contract__c}" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="投资类型"   id="PromotionType5"  />
            <apex:inputField style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','display:none;','')} "  value="{!ContractSelected.ASI_CRM_Investment_Type__c}"  id="PromotionType6"    />
        </apex:pageblockSectionItem>
        
  <apex:pageblockSectionItem >
            <apex:outputText style=" {!IF(ContractSelected.ASI_TH_CRM_Promotion_Type__c=='Heavy Contract On','','display:none;')} "  value="投资类型" id="PromotionType7"   />
            <apex:outputField value="{!ContractSelected.ASI_CRM_Investment_Type__c}"  id="PromotionType8"  />
        </apex:pageblockSectionItem>
        


		<!--
        <apex:pageblockSectionItem >
        </apex:pageblockSectionItem>  
        -->
        
        <!--20170201 Elufa Changed inputField to outputField-->
        <!-- 20170309 Elufa Commented
        <apex:pageblockSectionItem >
            <apex:outputText value="全国集团合同"/>
            <apex:outputPanel >
            <apex:outputField value="{!ContractSelected.ASI_CRM_CN_National_Group_Contract__c}"/>
            </apex:outputPanel>
        </apex:pageblockSectionItem>
		-->
        
        <!--20170201 Elufa
							 
        <apex:pageblockSectionItem >
            <apex:outputText value="全国集团">
                <div id="nationalHelptext" class="helpText" style="display: none; opacity: 0.99;position:absolute;left:25%;top:5%">If you want to change National Group value, please contact HQ BA or IT<br/>如需更改v0.0合同的全国集团, 请联络HQ BA或IT</div>
                <img src="/s.gif" alt="Help" id="nationalHelpIcon" class="helpIcon" title="" style="position:relative; left :90px;" />
            </apex:outputText>
            <apex:outputField value="{!ContractSelected.ASI_CRM_NationalGroup__c}" />
        </apex:pageblockSectionItem>

	
         -20170201 End-->
        
        <!--20160607 Ben @ Elufa-->
        <!--<apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="false" value=" "/>
        </apex:pageblockSectionItem>-->
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:inputText style="display:none" styleClass="poCityId" value="{!ContractSelected.ASI_CRM_PO_City__c}" id="Information3a_CN"/>
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="PO渠道" id="Information22_CN" />
            <apex:inputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Channel__c}" required="{!needChannelnProvince}" id="Information2_CN" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="PO渠道" id="Information22_CN" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Channel__c}" id="Information2_CN" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="PO城市" id="Information33_CN" />
            <apex:inputText styleClass="poCity" rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_City__r.Name}" id="Information3_CN" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="PO城市" id="Information33_CN" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_City__c}" id="Information3_CN" />
        </apex:pageblockSectionItem>
        <!--<apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="PO城市" />
            <apex:inputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c}" value="{!ContractSelected.ASI_CRM_PO_City__c}" />
        </apex:pageblockSectionItem>-->
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="PO省份" id="Information11_CN" />
            <apex:inputField styleClass="poProvince" onchange="findCity()" rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Province__c}" required="{!needChannelnProvince}" id="Information1_CN" />
        </apex:pageblockSectionItem>
        <apex:pageblockSectionItem rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" >
            <apex:outputText rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="PO省份" id="Information11_CN" />
            <apex:outputField rendered="{!ContractSelected.ASI_CRM_New_FY_PO__c && !needChannelnProvince}" value="{!ContractSelected.ASI_CRM_PO_Province__c}" id="Information1_CN" />
        </apex:pageblockSectionItem>
    </apex:pageblocksection>
	<!--20160607 End-->
</apex:pageblock>
</apex:outputPanel>

</apex:form>
</apex:page>